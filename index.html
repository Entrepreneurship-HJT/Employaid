<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jobify - Find Your Perfect Career</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700;800&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    
    .progress-bar {
      transition: width 0.3s ease;
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }
    
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .career-card {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    
    .career-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full overflow-auto">
  <div id="app" class="w-full h-full" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100%;"></div>
  <script>
    const defaultConfig = {
      background_color: "#667eea",
      secondary_color: "#ffffff",
      text_color: "#1a202c",
      primary_action_color: "#764ba2",
      secondary_action_color: "#667eea",
      font_family: "Outfit",
      font_size: 16,
      main_title: "Discover Your Perfect Career",
      subtitle: "Answer a few questions to find professions that match your interests and skills",
      start_button_text: "Start Assessment",
      results_title: "Your Career Matches",
      restart_button_text: "Take Assessment Again",
      credits_message: "Made with‚ù§Ô∏è by",
      creator_names: "Havish, Jayanth & Tanush"
    };

    const questions = [
      {
        question: "What environment do you thrive in?",
        options: [
          { text: "Creative and collaborative spaces", traits: ["creative", "people"] },
          { text: "Structured and analytical settings", traits: ["analytical", "detail"] },
          { text: "Dynamic and fast-paced environments", traits: ["leadership", "action"] },
          { text: "Independent and flexible workspaces", traits: ["independent", "flexible"] }
        ]
      },
      {
        question: "Which activity sounds most appealing?",
        options: [
          { text: "Designing or creating something new", traits: ["creative", "innovation"] },
          { text: "Solving complex problems", traits: ["analytical", "technical"] },
          { text: "Leading a team project", traits: ["leadership", "people"] },
          { text: "Researching and learning", traits: ["knowledge", "detail"] }
        ]
      },
      {
        question: "What motivates you most?",
        options: [
          { text: "Making a positive impact on others", traits: ["people", "service"] },
          { text: "Achieving measurable results", traits: ["achievement", "analytical"] },
          { text: "Expressing creativity and innovation", traits: ["creative", "innovation"] },
          { text: "Continuous learning and growth", traits: ["knowledge", "growth"] }
        ]
      },
      {
        question: "How do you prefer to work?",
        options: [
          { text: "With hands-on practical tasks", traits: ["action", "technical"] },
          { text: "Through detailed planning and analysis", traits: ["detail", "analytical"] },
          { text: "By brainstorming and ideating", traits: ["creative", "innovation"] },
          { text: "By helping and mentoring others", traits: ["people", "service"] }
        ]
      },
      {
        question: "What's your ideal work-life balance?",
        options: [
          { text: "Flexible hours with remote options", traits: ["flexible", "independent"] },
          { text: "Structured schedule with clear boundaries", traits: ["structured", "balanced"] },
          { text: "Passionate work that feels like play", traits: ["creative", "driven"] },
          { text: "Varied schedule with lots of interaction", traits: ["dynamic", "people"] }
        ]
      },
      {
        question: "Which skill do you want to develop most?",
        options: [
          { text: "Creative thinking and design", traits: ["creative", "innovation"] },
          { text: "Technical and programming abilities", traits: ["technical", "analytical"] },
          { text: "Communication and presentation", traits: ["people", "leadership"] },
          { text: "Strategic planning and organization", traits: ["detail", "achievement"] }
        ]
      },
      {
        question: "What type of challenge excites you?",
        options: [
          { text: "Building something from scratch", traits: ["innovation", "action"] },
          { text: "Optimizing existing systems", traits: ["analytical", "detail"] },
          { text: "Connecting with diverse people", traits: ["people", "service"] },
          { text: "Exploring uncharted territories", traits: ["knowledge", "flexible"] }
        ]
      },
      {
        question: "Where do you see yourself making an impact?",
        options: [
          { text: "In technology and digital innovation", traits: ["technical", "innovation"] },
          { text: "In healthcare and wellness", traits: ["service", "people"] },
          { text: "In business and entrepreneurship", traits: ["leadership", "achievement"] },
          { text: "In arts and culture", traits: ["creative", "flexible"] }
        ]
      },
      {
        question: "How do you handle pressure?",
        options: [
          { text: "I stay calm and analyze the situation", traits: ["analytical", "detail"] },
          { text: "I take decisive action quickly", traits: ["leadership", "action"] },
          { text: "I collaborate and seek input from others", traits: ["people", "service"] },
          { text: "I adapt and find creative solutions", traits: ["flexible", "innovation"] }
        ]
      },
      {
        question: "What matters most to you in a career?",
        options: [
          { text: "Personal fulfillment and passion", traits: ["creative", "driven"] },
          { text: "Financial security and stability", traits: ["achievement", "structured"] },
          { text: "Helping others and making a difference", traits: ["service", "people"] },
          { text: "Continuous learning and growth", traits: ["knowledge", "growth"] }
        ]
      }
    ];

    const careers = [
      {
        title: "UX/UI Designer",
        description: "Create intuitive and beautiful digital experiences",
        traits: ["creative", "people", "technical"],
        icon: "üé®",
        salary: "$75k - $120k",
        growth: "High demand"
      },
      {
        title: "Data Scientist",
        description: "Analyze complex data to drive business decisions",
        traits: ["analytical", "technical", "knowledge"],
        icon: "üìä",
        salary: "$90k - $150k",
        growth: "Very high demand"
      },
      {
        title: "Project Manager",
        description: "Lead teams to successfully deliver projects",
        traits: ["leadership", "people", "achievement"],
        icon: "üìã",
        salary: "$80k - $130k",
        growth: "Steady demand"
      },
      {
        title: "Content Creator",
        description: "Produce engaging content across platforms",
        traits: ["creative", "innovation", "flexible"],
        icon: "‚úçÔ∏è",
        salary: "$50k - $100k",
        growth: "Growing field"
      },
      {
        title: "Software Engineer",
        description: "Build innovative software solutions",
        traits: ["technical", "analytical", "independent"],
        icon: "üíª",
        salary: "$85k - $160k",
        growth: "Very high demand"
      },
      {
        title: "Marketing Strategist",
        description: "Develop campaigns that drive brand growth",
        traits: ["creative", "analytical", "people"],
        icon: "üì±",
        salary: "$65k - $110k",
        growth: "High demand"
      },
      {
        title: "Teacher/Educator",
        description: "Inspire and educate the next generation",
        traits: ["people", "service", "knowledge"],
        icon: "üë®‚Äçüè´",
        salary: "$45k - $75k",
        growth: "Stable demand"
      },
      {
        title: "Entrepreneur",
        description: "Build and grow your own business ventures",
        traits: ["leadership", "innovation", "action"],
        icon: "üöÄ",
        salary: "Variable",
        growth: "Self-driven"
      },
      {
        title: "Healthcare Professional",
        description: "Provide care and improve patient outcomes",
        traits: ["service", "detail", "people"],
        icon: "‚öïÔ∏è",
        salary: "$60k - $120k",
        growth: "Very high demand"
      },
      {
        title: "Financial Analyst",
        description: "Guide financial decisions with expert analysis",
        traits: ["analytical", "detail", "achievement"],
        icon: "üí∞",
        salary: "$70k - $110k",
        growth: "Steady demand"
      },
      {
        title: "Graphic Designer",
        description: "Craft visual stories through design and branding",
        traits: ["creative", "innovation", "detail"],
        icon: "üñåÔ∏è",
        salary: "$50k - $85k",
        growth: "Steady demand"
      },
      {
        title: "Civil Engineer",
        description: "Design and build infrastructure that shapes cities",
        traits: ["technical", "analytical", "action"],
        icon: "üèóÔ∏è",
        salary: "$70k - $105k",
        growth: "Steady demand"
      },
      {
        title: "Psychologist",
        description: "Help people overcome challenges and thrive",
        traits: ["people", "service", "knowledge"],
        icon: "üß†",
        salary: "$60k - $95k",
        growth: "High demand"
      },
      {
        title: "Architect",
        description: "Design spaces that inspire and function beautifully",
        traits: ["creative", "technical", "detail"],
        icon: "üìê",
        salary: "$70k - $110k",
        growth: "Steady demand"
      },
      {
        title: "Sales Manager",
        description: "Drive revenue growth through strategic selling",
        traits: ["people", "achievement", "leadership"],
        icon: "üíº",
        salary: "$65k - $120k",
        growth: "High demand"
      },
      {
        title: "Journalist",
        description: "Tell important stories that inform the public",
        traits: ["creative", "knowledge", "action"],
        icon: "üì∞",
        salary: "$45k - $80k",
        growth: "Moderate demand"
      },
      {
        title: "Chef/Culinary Artist",
        description: "Create memorable dining experiences through food",
        traits: ["creative", "action", "innovation"],
        icon: "üë®‚Äçüç≥",
        salary: "$40k - $85k",
        growth: "Steady demand"
      },
      {
        title: "Human Resources Manager",
        description: "Build strong teams and positive workplace cultures",
        traits: ["people", "leadership", "service"],
        icon: "ü§ù",
        salary: "$70k - $110k",
        growth: "Steady demand"
      },
      {
        title: "Environmental Scientist",
        description: "Protect our planet through research and advocacy",
        traits: ["knowledge", "analytical", "service"],
        icon: "üåç",
        salary: "$55k - $90k",
        growth: "High demand"
      },
      {
        title: "Video Game Designer",
        description: "Create immersive interactive entertainment experiences",
        traits: ["creative", "technical", "innovation"],
        icon: "üéÆ",
        salary: "$60k - $110k",
        growth: "Growing field"
      },
      {
        title: "Lawyer",
        description: "Advocate for justice and navigate complex legal systems",
        traits: ["analytical", "detail", "achievement"],
        icon: "‚öñÔ∏è",
        salary: "$80k - $160k",
        growth: "Steady demand"
      },
      {
        title: "Social Media Manager",
        description: "Build engaged communities across digital platforms",
        traits: ["creative", "people", "flexible"],
        icon: "üì≤",
        salary: "$50k - $90k",
        growth: "High demand"
      },
      {
        title: "Veterinarian",
        description: "Care for animals and support their wellbeing",
        traits: ["service", "knowledge", "detail"],
        icon: "üêæ",
        salary: "$75k - $120k",
        growth: "High demand"
      },
      {
        title: "Mechanical Engineer",
        description: "Design and develop mechanical systems and products",
        traits: ["technical", "analytical", "innovation"],
        icon: "‚öôÔ∏è",
        salary: "$75k - $115k",
        growth: "Steady demand"
      },
      {
        title: "Event Planner",
        description: "Orchestrate memorable experiences and celebrations",
        traits: ["people", "creative", "action"],
        icon: "üéâ",
        salary: "$45k - $80k",
        growth: "Steady demand"
      },
      {
        title: "Cybersecurity Analyst",
        description: "Protect organizations from digital threats",
        traits: ["technical", "analytical", "detail"],
        icon: "üîí",
        salary: "$85k - $140k",
        growth: "Very high demand"
      },
      {
        title: "Physical Therapist",
        description: "Help patients recover mobility and reduce pain",
        traits: ["service", "people", "knowledge"],
        icon: "üèÉ",
        salary: "$70k - $100k",
        growth: "High demand"
      },
      {
        title: "Photographer",
        description: "Capture moments and tell stories through images",
        traits: ["creative", "flexible", "detail"],
        icon: "üì∑",
        salary: "$40k - $80k",
        growth: "Moderate demand"
      },
      {
        title: "Real Estate Agent",
        description: "Help people find their dream homes and properties",
        traits: ["people", "achievement", "flexible"],
        icon: "üè°",
        salary: "$45k - $120k",
        growth: "Steady demand"
      },
      {
        title: "Accountant",
        description: "Manage financial records and ensure compliance",
        traits: ["analytical", "detail", "structured"],
        icon: "üßÆ",
        salary: "$60k - $95k",
        growth: "Steady demand"
      },
      {
        title: "Animation Artist",
        description: "Bring characters and stories to life through motion",
        traits: ["creative", "technical", "innovation"],
        icon: "üé¨",
        salary: "$55k - $100k",
        growth: "Growing field"
      },
      {
        title: "Research Scientist",
        description: "Advance knowledge through experimentation and discovery",
        traits: ["knowledge", "analytical", "detail"],
        icon: "üî¨",
        salary: "$70k - $110k",
        growth: "High demand"
      },
      {
        title: "Interior Designer",
        description: "Transform spaces into functional and beautiful environments",
        traits: ["creative", "detail", "people"],
        icon: "üõãÔ∏è",
        salary: "$50k - $85k",
        growth: "Steady demand"
      },
      {
        title: "Personal Trainer",
        description: "Guide clients toward their fitness and wellness goals",
        traits: ["people", "service", "action"],
        icon: "üí™",
        salary: "$40k - $75k",
        growth: "Growing field"
      },
      {
        title: "Dental Hygienist",
        description: "Promote oral health and provide patient care",
        traits: ["service", "detail", "people"],
        icon: "ü¶∑",
        salary: "$65k - $90k",
        growth: "High demand"
      },
      {
        title: "Fashion Designer",
        description: "Create clothing and accessories that express style",
        traits: ["creative", "innovation", "detail"],
        icon: "üëó",
        salary: "$50k - $95k",
        growth: "Moderate demand"
      },
      {
        title: "Pharmacist",
        description: "Ensure safe medication use and advise on health",
        traits: ["knowledge", "service", "detail"],
        icon: "üíä",
        salary: "$110k - $140k",
        growth: "Steady demand"
      },
      {
        title: "Music Producer",
        description: "Create and shape sound for artists and media",
        traits: ["creative", "technical", "innovation"],
        icon: "üéµ",
        salary: "$45k - $100k",
        growth: "Growing field"
      },
      {
        title: "Urban Planner",
        description: "Design sustainable and livable communities",
        traits: ["analytical", "creative", "service"],
        icon: "üèôÔ∏è",
        salary: "$65k - $100k",
        growth: "Steady demand"
      },
      {
        title: "Flight Attendant",
        description: "Ensure passenger safety and comfort in the skies",
        traits: ["people", "service", "flexible"],
        icon: "‚úàÔ∏è",
        salary: "$45k - $75k",
        growth: "Steady demand"
      },
      {
        title: "Electrician",
        description: "Install and maintain electrical systems safely",
        traits: ["technical", "action", "detail"],
        icon: "‚ö°",
        salary: "$50k - $85k",
        growth: "High demand"
      }
    ];

    let currentQuestion = 0;
    let userTraits = {};
    let currentView = "home";

    function render() {
      const app = document.getElementById("app");
      const customFont = window.elementSdk?.config?.font_family || defaultConfig.font_family;
      const baseSize = window.elementSdk?.config?.font_size || defaultConfig.font_size;
      const backgroundColor = window.elementSdk?.config?.background_color || defaultConfig.background_color;
      const secondaryColor = window.elementSdk?.config?.secondary_color || defaultConfig.secondary_color;
      const textColor = window.elementSdk?.config?.text_color || defaultConfig.text_color;
      const primaryActionColor = window.elementSdk?.config?.primary_action_color || defaultConfig.primary_action_color;
      const secondaryActionColor = window.elementSdk?.config?.secondary_action_color || defaultConfig.secondary_action_color;
      
      const mainTitle = window.elementSdk?.config?.main_title || defaultConfig.main_title;
      const subtitle = window.elementSdk?.config?.subtitle || defaultConfig.subtitle;
      const startButtonText = window.elementSdk?.config?.start_button_text || defaultConfig.start_button_text;
      const resultsTitle = window.elementSdk?.config?.results_title || defaultConfig.results_title;
      const restartButtonText = window.elementSdk?.config?.restart_button_text || defaultConfig.restart_button_text;
      const creditsMessage = window.elementSdk?.config?.credits_message || defaultConfig.credits_message;
      const creatorNames = window.elementSdk?.config?.creator_names || defaultConfig.creator_names;

      app.style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${primaryActionColor} 100%)`;
      app.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;

      if (currentView === "home") {
        app.innerHTML = `
          <div class="flex items-center justify-center min-h-full p-8">
            <div class="text-center max-w-2xl fade-in">
              <div class="mb-8">
                <div style="font-size: ${baseSize * 4}px; margin-bottom: ${baseSize * 1.5}px;">üéØ</div>
                <h1 id="main-title" style="font-size: ${baseSize * 3}px; font-weight: 800; color: ${secondaryColor}; margin-bottom: ${baseSize * 0.75}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  ${mainTitle}
                </h1>
                <p id="subtitle" style="font-size: ${baseSize * 1.25}px; color: ${secondaryColor}; opacity: 0.95; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  ${subtitle}
                </p>
              </div>
              <button id="start-btn" style="background-color: ${secondaryColor}; color: ${primaryActionColor}; font-size: ${baseSize * 1.125}px; font-weight: 700; padding: ${baseSize}px ${baseSize * 2.5}px; border-radius: ${baseSize * 0.75}px; border: none; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                ${startButtonText}
              </button>
              <div style="margin-top: ${baseSize * 3}px; display: flex; justify-content: center; gap: ${baseSize * 2}px; flex-wrap: wrap;">
                <div style="background-color: ${secondaryColor}; padding: ${baseSize * 1.25}px ${baseSize * 1.5}px; border-radius: ${baseSize * 0.5}px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
                  <div style="font-size: ${baseSize * 1.75}px; font-weight: 800; color: ${primaryActionColor}; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">10</div>
                  <div style="font-size: ${baseSize * 0.875}px; color: ${textColor}; opacity: 0.7; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Questions</div>
                </div>
                <div style="background-color: ${secondaryColor}; padding: ${baseSize * 1.25}px ${baseSize * 1.5}px; border-radius: ${baseSize * 0.5}px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
                  <div style="font-size: ${baseSize * 1.75}px; font-weight: 800; color: ${primaryActionColor}; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">40+</div>
                  <div style="font-size: ${baseSize * 0.875}px; color: ${textColor}; opacity: 0.7; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Careers</div>
                </div>
                <div style="background-color: ${secondaryColor}; padding: ${baseSize * 1.25}px ${baseSize * 1.5}px; border-radius: ${baseSize * 0.5}px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
                  <div style="font-size: ${baseSize * 1.75}px; font-weight: 800; color: ${primaryActionColor}; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">3min</div>
                  <div style="font-size: ${baseSize * 0.875}px; color: ${textColor}; opacity: 0.7; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">Duration</div>
                </div>
              </div>
            </div>
          </div>
        `;

        const startBtn = document.getElementById("start-btn");
        startBtn.addEventListener("mouseenter", () => {
          startBtn.style.transform = "translateY(-2px)";
          startBtn.style.boxShadow = "0 12px 24px rgba(0, 0, 0, 0.25)";
        });
        startBtn.addEventListener("mouseleave", () => {
          startBtn.style.transform = "translateY(0)";
          startBtn.style.boxShadow = "0 8px 16px rgba(0, 0, 0, 0.2)";
        });
        startBtn.addEventListener("click", startAssessment);
      } else if (currentView === "quiz") {
        const progress = ((currentQuestion + 1) / questions.length) * 100;
        const q = questions[currentQuestion];

        app.innerHTML = `
          <div class="flex items-center justify-center min-h-full p-8">
            <div class="w-full max-w-2xl fade-in">
              <div style="background-color: ${secondaryColor}; border-radius: ${baseSize * 1.25}px; padding: ${baseSize * 2.5}px; box-shadow: 0 12px 32px rgba(0, 0, 0, 0.15);">
                <div style="margin-bottom: ${baseSize * 1.5}px;">
                  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: ${baseSize * 0.75}px;">
                    <span style="font-size: ${baseSize * 0.875}px; font-weight: 600; color: ${textColor}; opacity: 0.6; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                      Question ${currentQuestion + 1} of ${questions.length}
                    </span>
                    <span style="font-size: ${baseSize * 0.875}px; font-weight: 700; color: ${primaryActionColor}; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                      ${Math.round(progress)}%
                    </span>
                  </div>
                  <div style="background-color: #e2e8f0; height: ${baseSize * 0.5}px; border-radius: ${baseSize * 0.25}px; overflow: hidden;">
                    <div class="progress-bar" style="background-color: ${primaryActionColor}; height: 100%; width: ${progress}%;"></div>
                  </div>
                </div>
                
                <h2 style="font-size: ${baseSize * 1.75}px; font-weight: 700; color: ${textColor}; margin-bottom: ${baseSize * 2}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  ${q.question}
                </h2>
                
                <div id="options-container" style="display: flex; flex-direction: column; gap: ${baseSize}px;">
                  ${q.options.map((option, index) => `
                    <button class="option-btn" data-index="${index}" style="background-color: #f7fafc; border: 2px solid #e2e8f0; padding: ${baseSize * 1.25}px ${baseSize * 1.5}px; border-radius: ${baseSize * 0.75}px; text-align: left; cursor: pointer; transition: all 0.2s ease; font-size: ${baseSize}px; font-weight: 500; color: ${textColor}; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                      ${option.text}
                    </button>
                  `).join("")}
                </div>
              </div>
            </div>
          </div>
        `;

        const optionBtns = document.querySelectorAll(".option-btn");
        optionBtns.forEach(btn => {
          btn.addEventListener("mouseenter", () => {
            btn.style.backgroundColor = secondaryActionColor;
            btn.style.borderColor = primaryActionColor;
            btn.style.color = secondaryColor;
            btn.style.transform = "translateX(8px)";
          });
          btn.addEventListener("mouseleave", () => {
            btn.style.backgroundColor = "#f7fafc";
            btn.style.borderColor = "#e2e8f0";
            btn.style.color = textColor;
            btn.style.transform = "translateX(0)";
          });
          btn.addEventListener("click", (e) => {
            const index = parseInt(e.target.dataset.index);
            selectOption(index);
          });
        });
      } else if (currentView === "results") {
        const matches = calculateMatches();

        app.innerHTML = `
          <div class="min-h-full p-8" style="padding-top: ${baseSize * 3}px; padding-bottom: ${baseSize * 3}px;">
            <div class="max-w-5xl mx-auto fade-in">
              <div class="text-center" style="margin-bottom: ${baseSize * 3}px;">
                <div style="font-size: ${baseSize * 4}px; margin-bottom: ${baseSize}px;">üéâ</div>
                <h1 id="results-title" style="font-size: ${baseSize * 2.5}px; font-weight: 800; color: ${secondaryColor}; margin-bottom: ${baseSize}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  ${resultsTitle}
                </h1>
                <p style="font-size: ${baseSize * 1.125}px; color: ${secondaryColor}; opacity: 0.95; margin-bottom: ${baseSize * 2}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  Based on your responses, here are careers that align with your strengths
                </p>
                <button id="restart-btn" style="background-color: ${secondaryColor}; color: ${primaryActionColor}; font-size: ${baseSize}px; font-weight: 600; padding: ${baseSize * 0.75}px ${baseSize * 2}px; border-radius: ${baseSize * 0.5}px; border: none; cursor: pointer; transition: all 0.2s ease; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  ${restartButtonText}
                </button>
              </div>
              
              <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: ${baseSize * 1.5}px; margin-bottom: ${baseSize * 3}px;">
                ${matches.map(career => `
                  <div class="career-card" style="background-color: ${secondaryColor}; border-radius: ${baseSize}px; padding: ${baseSize * 1.5}px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                    <div style="font-size: ${baseSize * 3}px; margin-bottom: ${baseSize}px;">${career.icon}</div>
                    <h3 style="font-size: ${baseSize * 1.375}px; font-weight: 700; color: ${textColor}; margin-bottom: ${baseSize * 0.5}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                      ${career.title}
                    </h3>
                    <p style="font-size: ${baseSize * 0.9375}px; color: ${textColor}; opacity: 0.7; margin-bottom: ${baseSize * 1.25}px; line-height: 1.5; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                      ${career.description}
                    </p>
                    <div style="display: flex; gap: ${baseSize * 0.75}px; margin-bottom: ${baseSize}px; flex-wrap: wrap;">
                      ${career.traits.slice(0, 3).map(trait => `
                        <span style="background-color: ${secondaryActionColor}; color: ${secondaryColor}; font-size: ${baseSize * 0.75}px; font-weight: 600; padding: ${baseSize * 0.25}px ${baseSize * 0.625}px; border-radius: ${baseSize * 0.25}px; text-transform: capitalize; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                          ${trait}
                        </span>
                      `).join("")}
                    </div>
                    <div style="border-top: 1px solid #e2e8f0; padding-top: ${baseSize}px; display: flex; justify-content: space-between; align-items: center;">
                      <div>
                        <div style="font-size: ${baseSize * 0.75}px; color: ${textColor}; opacity: 0.6; margin-bottom: ${baseSize * 0.25}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                          Salary Range
                        </div>
                        <div style="font-size: ${baseSize * 0.9375}px; font-weight: 700; color: ${primaryActionColor}; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                          ${career.salary}
                        </div>
                      </div>
                      <div style="text-align: right;">
                        <div style="font-size: ${baseSize * 0.75}px; color: ${textColor}; opacity: 0.6; margin-bottom: ${baseSize * 0.25}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                          Job Market
                        </div>
                        <div style="font-size: ${baseSize * 0.9375}px; font-weight: 700; color: #48bb78; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                          ${career.growth}
                        </div>
                      </div>
                    </div>
                    <div style="background-color: ${primaryActionColor}; color: ${secondaryColor}; text-align: center; padding: ${baseSize}px; border-radius: ${baseSize * 0.5}px; margin-top: ${baseSize * 1.25}px; font-weight: 600; font-size: ${baseSize * 0.9375}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                      ${career.matchScore}% Match
                    </div>
                  </div>
                `).join("")}
              </div>

              <div style="background-color: ${secondaryColor}; border-radius: ${baseSize}px; padding: ${baseSize * 2}px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); text-align: center;">
                <div style="font-size: ${baseSize * 2.5}px; margin-bottom: ${baseSize}px;">üéì</div>
                <p id="credits-message" style="font-size: ${baseSize * 1.125}px; color: ${textColor}; margin-bottom: ${baseSize * 0.5}px; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  ${creditsMessage}
                </p>
                <p id="creator-names" style="font-size: ${baseSize * 1.25}px; font-weight: 700; color: ${primaryActionColor}; font-family: ${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                  ${creatorNames}
                </p>
              </div>
            </div>
          </div>
        `;

        const restartBtn = document.getElementById("restart-btn");
        restartBtn.addEventListener("mouseenter", () => {
          restartBtn.style.transform = "translateY(-2px)";
          restartBtn.style.boxShadow = "0 4px 12px rgba(0, 0, 0, 0.15)";
        });
        restartBtn.addEventListener("mouseleave", () => {
          restartBtn.style.transform = "translateY(0)";
          restartBtn.style.boxShadow = "none";
        });
        restartBtn.addEventListener("click", restart);
      }
    }

    function startAssessment() {
      currentView = "quiz";
      currentQuestion = 0;
      userTraits = {};
      render();
    }

    function selectOption(index) {
      const selectedOption = questions[currentQuestion].options[index];
      selectedOption.traits.forEach(trait => {
        userTraits[trait] = (userTraits[trait] || 0) + 1;
      });

      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        render();
      } else {
        currentView = "results";
        render();
      }
    }

    function calculateMatches() {
      const scored = careers.map(career => {
        let score = 0;
        career.traits.forEach(trait => {
          if (userTraits[trait]) {
            score += userTraits[trait];
          }
        });
        return { ...career, matchScore: Math.min(Math.round((score / Object.values(userTraits).reduce((a, b) => a + b, 0)) * 100), 100) };
      });

      return scored.sort((a, b) => b.matchScore - a.matchScore).slice(0, 6);
    }

    function restart() {
      currentView = "home";
      currentQuestion = 0;
      userTraits = {};
      render();
    }

    async function onConfigChange(config) {
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;
      const backgroundColor = config.background_color || defaultConfig.background_color;
      const secondaryColor = config.secondary_color || defaultConfig.secondary_color;
      const textColor = config.text_color || defaultConfig.text_color;
      const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color;
      const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color;
      
      const mainTitle = config.main_title || defaultConfig.main_title;
      const subtitle = config.subtitle || defaultConfig.subtitle;
      const resultsTitle = config.results_title || defaultConfig.results_title;
      const creditsMessage = config.credits_message || defaultConfig.credits_message;
      const creatorNames = config.creator_names || defaultConfig.creator_names;

      const app = document.getElementById("app");
      if (app) {
        app.style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${primaryActionColor} 100%)`;
        app.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      }

      const mainTitleEl = document.getElementById("main-title");
      if (mainTitleEl) {
        mainTitleEl.textContent = mainTitle;
        mainTitleEl.style.fontSize = `${baseSize * 3}px`;
        mainTitleEl.style.color = secondaryColor;
        mainTitleEl.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      }

      const subtitleEl = document.getElementById("subtitle");
      if (subtitleEl) {
        subtitleEl.textContent = subtitle;
        subtitleEl.style.fontSize = `${baseSize * 1.25}px`;
        subtitleEl.style.color = secondaryColor;
        subtitleEl.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      }

      const resultsTitleEl = document.getElementById("results-title");
      if (resultsTitleEl) {
        resultsTitleEl.textContent = resultsTitle;
        resultsTitleEl.style.fontSize = `${baseSize * 2.5}px`;
        resultsTitleEl.style.color = secondaryColor;
        resultsTitleEl.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      }

      const creditsMessageEl = document.getElementById("credits-message");
      if (creditsMessageEl) {
        creditsMessageEl.textContent = creditsMessage;
        creditsMessageEl.style.fontSize = `${baseSize * 1.125}px`;
        creditsMessageEl.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      }

      const creatorNamesEl = document.getElementById("creator-names");
      if (creatorNamesEl) {
        creatorNamesEl.textContent = creatorNames;
        creatorNamesEl.style.fontSize = `${baseSize * 1.25}px`;
        creatorNamesEl.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      }

      const allText = document.querySelectorAll("h1, h2, h3, p, button, span, div");
      allText.forEach(el => {
        el.style.fontFamily = `${customFont}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`;
      });
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.secondary_color || defaultConfig.secondary_color,
              set: (value) => {
                config.secondary_color = value;
                window.elementSdk.setConfig({ secondary_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.primary_action_color || defaultConfig.primary_action_color,
              set: (value) => {
                config.primary_action_color = value;
                window.elementSdk.setConfig({ primary_action_color: value });
              }
            },
            {
              get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
              set: (value) => {
                config.secondary_action_color = value;
                window.elementSdk.setConfig({ secondary_action_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ["main_title", config.main_title || defaultConfig.main_title],
          ["subtitle", config.subtitle || defaultConfig.subtitle],
          ["start_button_text", config.start_button_text || defaultConfig.start_button_text],
          ["results_title", config.results_title || defaultConfig.results_title],
          ["restart_button_text", config.restart_button_text || defaultConfig.restart_button_text],
          ["credits_message", config.credits_message || defaultConfig.credits_message],
          ["creator_names", config.creator_names || defaultConfig.creator_names]
        ])
      });
    }

    render();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9bab518315ff7f8b',t:'MTc2Nzg3MTM2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>